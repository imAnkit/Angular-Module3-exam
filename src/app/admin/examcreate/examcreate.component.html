<!-- <app-navbar></app-navbar> -->

<div class="col-container" style="max-width: 800px; margin: 40px auto">
  <h2>Create New Exam</h2>

  <div class="col-container card-container">
    <label for="examTitle" style="font-weight: 500">Exam Title</label>
    <input
      type="text"
      id="examTitle"
      [(ngModel)]="examTitle"
      placeholder="Enter Exam Title"
    />
  </div>

  <hr />

  <h3>Questions Added</h3>
  <div
    *ngIf="questions.length === 0"
    class="card-container"
    style="background-color: var(--card--variant--color); text-align: center"
  >
    No questions added yet.
  </div>

  <div
    *ngFor="let q of questions; let i = index"
    class="card-container"
    style="margin-bottom: 16px"
  >
    <h4>Question {{ i + 1 }}:</h4>
    <p>{{ q.questionText }}</p>

    <ul class="col-container" style="padding-left: 20px">
      <li *ngFor="let opt of q.options" style="list-style: disc">
        {{ opt }}
      </li>
    </ul>

    <p><strong>Correct Option:</strong> {{ q.correctOption }}</p>

    <button
      class="destructive-btn"
      style="padding: 8px 12px; font-size: 14px"
      (click)="removeQuestion(i)"
    >
      Remove
    </button>
  </div>

  <hr />

  <h3>Add New Question</h3>

  <div class="col-container card-container">
    <label for="questionText" style="font-weight: 500">Question</label>
    <input
      type="text"
      id="questionText"
      [(ngModel)]="newQuestion.questionText"
      placeholder="Enter question text"
    />
  </div>

  <div class="col-container card-container">
    <label style="font-weight: 500">Options</label>

    <div
      *ngFor="let opt of newQuestion.options; let idx = index"
      class="row-container"
    >
      <input
        type="text"
        [(ngModel)]="newQuestion.options[idx]"
        placeholder="Option {{ idx + 1 }}"
        style="flex: 1"
      />
      <button
        class="destructive-btn"
        style="padding: 8px 12px"
        (click)="removeOption(idx)"
      >
        Remove
      </button>
    </div>

    <button
      class="secondary-btn"
      style="width: fit-content"
      (click)="addOption()"
    >
      Add Option
    </button>
  </div>

  <div class="col-container card-container">
    <label for="correctOption" style="font-weight: 500">Correct Option</label>
    <input
      type="text"
      id="correctOption"
      [(ngModel)]="newQuestion.correctOption"
      placeholder="Enter correct option"
    />
  </div>

  <button
    class="secondary-btn"
    style="margin-top: 12px"
    (click)="addQuestion()"
  >
    Add Question
  </button>

  <hr />

  <button
    class="secondary-btn"
    style="margin-top: 24px; padding: 16px; font-size: 16px"
    (click)="saveExam()"
  >
    Save Exam
  </button>
</div>
